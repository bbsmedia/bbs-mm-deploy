<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-11-18T23:40:59.156023"><meta name="build-number" content="${buildNumber}">       <title>kill script | Mattermost deployment</title><script id="virtual-toc-data" type="application/json">[]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.1.5-b176/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="kill script | Mattermost deployment"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Mattermost deployment Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/mdMM-DEP/1.0.0/kill-script.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="kill script | Mattermost deployment"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/mdMM-DEP/1.0.0/kill-script.html#webpage", "url": "/mdMM-DEP/1.0.0/kill-script.html", "name": "kill script | Mattermost deployment", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/mdMM-DEP/#website", "url": "/mdMM-DEP/", "name": "Mattermost deployment Help" }</script><!-- End Schema.org --> <!-- Mermaid light/dark themes -->  <link rel="stylesheet" type="text/css" href="mermaid.css">  </head>     <body data-id="kill-script" data-main-title="kill script" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Scripts.md|Scripts"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Mattermost deployment 1.0.0 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="kill-script"  id="kill-script.md"  >kill script</h1>  <p id="2619b662_77">This is a bash script that performs some operations based on user input. Here is a breakdown of the script:</p><ol class="list _decimal" id="2619b662_78"  type="1"  ><li class="list__item" id="2619b662_79"><p id="2619b662_80"><code class="code" id="2619b662_81">#!/bin/bash</code>: This line specifies that the script should be run using the Bash shell.</p></li><li class="list__item" id="2619b662_82"><p id="2619b662_83"><code class="code" id="2619b662_84">source vars.sh</code>: This line sources the content of the <code class="code" id="2619b662_85">vars.sh</code> file into the current script. This means that any variables or functions defined in <code class="code" id="2619b662_86">vars.sh</code> will be available in this script.</p></li><li class="list__item" id="2619b662_87"><p id="2619b662_88"><code class="code" id="2619b662_89">read -p &quot;Are you sure? &quot; -n 1 -r</code>: This line prompts the user with the question &quot;Are you sure?&quot; and waits for the user to input a single character. The <code class="code" id="2619b662_90">-p</code> option specifies the prompt text, the <code class="code" id="2619b662_91">-n 1</code> option limits the input to a single character, and the <code class="code" id="2619b662_92">-r</code> option prevents the backslash from being treated as an escape character.</p></li><li class="list__item" id="2619b662_93"><p id="2619b662_94"><code class="code" id="2619b662_95">echo</code>: This line is optional and simply moves the cursor to a new line before displaying any output to the console.</p></li><li class="list__item" id="2619b662_96"><p id="2619b662_97"><code class="code" id="2619b662_98">if [[ $REPLY =~ ^[Yy]$ ]]; then</code>: This line starts an <code class="code" id="2619b662_99">if</code> statement that checks if the user's input stored in the <code class="code" id="2619b662_100">REPLY</code> variable matches the regular expression <code class="code" id="2619b662_101">^[Yy]$</code>, which represents a single character that is either &quot;Y&quot; or &quot;y&quot;. If the condition is true, the code within the <code class="code" id="2619b662_102">if</code> block is executed.</p></li><li class="list__item" id="2619b662_103"><p id="2619b662_104">Inside the <code class="code" id="2619b662_105">if</code> block, the following commands are executed:</p><ul class="list _ul" id="2619b662_106"    ><li class="list__item" id="2619b662_107"><p><code class="code" id="2619b662_108">echo &quot;deleting $VOLUMES_MM_PATH&quot;</code>: This line echoes a message indicating that the variable <code class="code" id="2619b662_109">$VOLUMES_MM_PATH</code> is being deleted.</p></li><li class="list__item" id="2619b662_110"><p><code class="code" id="2619b662_111">docker rm -f &quot;${MM_CONTAINER_NAME}&quot;</code>: This line stops and removes a Docker container specified by the variable <code class="code" id="2619b662_112">$MM_CONTAINER_NAME</code>.</p></li><li class="list__item" id="2619b662_113"><p><code class="code" id="2619b662_114">echo &quot;deleting $PG_DATA_PATH&quot;</code>: This line echoes a message indicating that the variable <code class="code" id="2619b662_115">$PG_DATA_PATH</code> is being deleted.</p></li><li class="list__item" id="2619b662_116"><p><code class="code" id="2619b662_117">docker rm -f &quot;${PG_CONTAINER_NAME}&quot;</code>: This line stops and removes a Docker container specified by the variable <code class="code" id="2619b662_118">$PG_CONTAINER_NAME</code>.</p></li><li class="list__item" id="2619b662_119"><p><code class="code" id="2619b662_120">echo &quot;deleting $VOLUMES_MM_PATH&quot;</code>: This line echoes a message indicating that the variable <code class="code" id="2619b662_121">$VOLUMES_MM_PATH</code> is being deleted.</p></li><li class="list__item" id="2619b662_122"><p><code class="code" id="2619b662_123">rm -rf &quot;$VOLUMES_MM_PATH&quot;</code>: This line removes the directory specified by the variable <code class="code" id="2619b662_124">$VOLUMES_MM_PATH</code> and all its contents recursively.</p></li><li class="list__item" id="2619b662_125"><p><code class="code" id="2619b662_126">echo &quot;deleting $PG_DATA_PATH&quot;</code>: This line echoes a message indicating that the variable <code class="code" id="2619b662_127">$PG_DATA_PATH</code> is being deleted.</p></li><li class="list__item" id="2619b662_128"><p><code class="code" id="2619b662_129">rm -rf &quot;$PG_DATA_PATH&quot;</code>: This line removes the directory specified by the variable <code class="code" id="2619b662_130">$PG_DATA_PATH</code> and all its contents recursively.</p></li><li class="list__item" id="2619b662_131"><p><code class="code" id="2619b662_132">echo &quot;Creating directories...&quot;</code>: This line echoes a message indicating that directories are being created.</p></li><li class="list__item" id="2619b662_133"><p><code class="code" id="2619b662_134">mkdir &quot;${MM_DIR_LIST[@]}&quot;</code>: This line creates directories specified by the DIR_ARR variable <code class="code" id="2619b662_135">$MM_DIR_LIST</code>.</p></li><li class="list__item" id="2619b662_136"><p><code class="code" id="2619b662_137">echo &quot;Changing owners...&quot;</code>: This line echoes a message indicating that ownership is being changed.</p></li><li class="list__item" id="2619b662_138"><p><code class="code" id="2619b662_139">chown -R 2000:2000 &quot;$VOLUMES_MM_PATH&quot;</code>: This line changes the ownership of the directory specified by the variable <code class="code" id="2619b662_140">$VOLUMES_MM_PATH</code> and all its contents to the user and group with the IDs 2000.</p></li><li class="list__item" id="2619b662_141"><p><code class="code" id="2619b662_142">chown -R 2000:2000 &quot;$PG_DATA_PATH&quot;</code>: This line changes the ownership of the directory specified by the variable <code class="code" id="2619b662_143">$PG_DATA_PATH</code> and all its contents to the user and group with the IDs 2000.</p></li></ul></li><li class="list__item" id="2619b662_144"><p id="2619b662_145">The <code class="code" id="2619b662_146">fi</code> keyword marks the end of the <code class="code" id="2619b662_147">if</code> block.</p></li></ol><p id="2619b662_148">Overall, this script asks the user for confirmation, and if the user responds with &quot;Y&quot; or &quot;y&quot;, it deletes specified Docker containers and directories, creates new directories, and changes the ownership of certain directories.</p><div class="last-modified"> Last modified: 18 November 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="scripts.html">Scripts</a>   <a class="navigation-links__next" href="helper-functions.html">Helper functions</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.1.5-b176/app.js"></script></body></html>